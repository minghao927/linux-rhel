#################################################
# Created on: 2016年2月26日
# @author: 张晓宇
# Email: 61411916@qq.com
# Blog: http://www.cnblogs.com/zhangxiaxuan/
# GitHub: https://github.com/ZhangXiaoyu-Chief
#################################################


作业一：模拟人生

程序结构：
.
├── conf  # 配置文件目录
│   ├── conf.py # 配置文件
│   └── __init__.py
├── core
│   ├── core.py
│   └── __init__.py
├── index.py # 程序主文件
├── libs # 自定义库目录
│   ├── __init__.py
│   └── mylib.py
├── model # 模型目录
│   ├── __init__.py
│   └── role.py # 角色模型
└── save # 存档目录
    ├── __init__.py
    ├── save.pkl.bak
    ├── save.pkl.dat
    └── save.pkl.dir


程序配置：
    配置文件conf.py
    # 主角初始化信息
    LEADING_ROLE_INIT_DATA = {
        'name' : "李磊", # 姓名
        'cash' : 1000, # 现银
        'deposit' : 0, # 银票
        'hp' : 100, # 生命值
        'rp' : 0, # 声望
        'ndays' : 0, # 穿越的天数
        'goods_list' : [], # 背包列表
        'max_goods_list' : 100 # 背包的容积
    }
    # 游戏背景
    STORY = ['我有一个的女朋友，叫韩梅梅', '我们青梅竹马，顺理成章的到了谈婚论嫁的地步', '突然有一天一场无情的车祸将我穿越到了明朝', '当我醒来的时候时候，一个美丽的姑娘看着我']

    # 商品列表，name：名称 min最小值 max：最大值，通过这两个值和随机系数计算当前值
    GOODS_list = [
        {'name' : '大米', 'min' : 2, 'max' : 18},
        {'name' : '跌打酒', 'min' : 8, 'max' : 70},
        {'name' : '茶叶', 'min' : 125, 'max' : 407},
        {'name' : '丝绸', 'min' : 365, 'max' : 990},
        {'name' : '人参', 'min' : 530, 'max' : 1200},
        #{'name' : '东海夜明珠', 'min' : 10990, 'max' : 46224},
    ]
    # 新闻列表 msg：新闻信息 id：影响的商品索引 impact：影响度，整的说明要涨价，负的说明要降价（注意不能值不能是-1<值<1）
    NEWS_LIST = [
        {'msg' : '隔壁村，爆发蝗灾，粮食欠收，爆发饥荒', 'id' : 0, 'impact' : 5.0},
        {'msg' : '粮食大丰收，很多人都开始做大米生意，大米一时卖不出去', 'id' : 0, 'impact' : -2.0},
        {'msg' : '官府发出告示，将征收米税', 'id' : 0, 'impact' : -1.5},
        {'msg' : '官府发出告示，西北战事，高价征收军粮', 'id' : 0 , 'impact' : 2.5},

        {'msg' : '最近帮派争斗严重，好多人受伤', 'id' : 1 , 'impact' : 6.0},
        {'msg' : '最近新开张了好多跌打馆，没人买跌打酒，跌打酒市场萎靡', 'id' : 1 , 'impact' : -2.1},
        {'msg' : '官府发出告示，禁止民间私斗', 'id' : 1 , 'impact' : -3.0},
        {'msg' : '最近武馆招生，大家纷纷去报名', 'id' : 1 , 'impact' : 2.5},

        {'msg' : '武夷山，雨水充足，茶叶大丰收', 'id' : 2, 'impact' : -1.5},
        {'msg' : '近来文人雅士流行品茗', 'id' : 2, 'impact' : 1.6},
        {'msg' : '城外匪患严重，没人出去贩茶', 'id' : 2, 'impact' : -2.2},
        {'msg' : '近来来了很多番邦商人，大量采购茶叶', 'id' : 2, 'impact' : 3.0},

        {'msg' : '家家户户养蚕，蚕茧价格暴跌', 'id' : 3, 'impact' : -1.8},
        {'msg' : '丝绸之路重开，人们纷纷踏上西去之路，贩卖丝绸', 'id' : 3, 'impact' : 3.1},
        {'msg' : '华府大量采购丝绸，为春夏秋冬四香做衣服', 'id' : 3, 'impact' : 2.5},
        {'msg' : '大量商人纷分做丝绸生意，丝绸严重滞销', 'id' : 3, 'impact' : -2.5},

        {'msg' : '大量高丽参涌入市场，人参价格暴跌', 'id' : 4, 'impact' : -2.3},
        {'msg' : '药材市场火爆，人们纷纷抱怨，病不起', 'id' : 4, 'impact' : 2.0},
        {'msg' : '官府告示：最近发现好多不法商贩，贩卖假人参骗人，提醒大家注意', 'id' : 3, 'impact' : -1.5},
        {'msg' : '人参燕窝鸡在富人中开始流行，人们纷纷开始效仿', 'id' : 4, 'impact' : 2.5},

        {'msg' : '最近帮派争斗严重，好多人受伤', 'id' : 1 , 'impact' : 6.0},
        {'msg' : '最近新开张了好多跌打馆，没人买跌打酒，跌打酒市场萎靡', 'id' : 1 , 'impact' : -2.1},
        {'msg' : '官府发出告示，禁止民间私斗', 'id' : 1 , 'impact' : -3.0},
        {'msg' : '最近武馆，大家纷纷去报名', 'id' : 1 , 'impact' : 2.5},
    ]

    # 利息系数，用来计算利息
    INTERESTS = 0.05

    # 最高生命值、声望、川渝天数
    MAX_HP = 100
    MAX_RP = 100

    # 逛妓院花费的银两
    PROSTITUTE_PRICE = 500
    # 存档文件
    SAVE_FILE = 'save/save.pkl'

    # 穿越结束天数
    OVER_DAY = 60
    # 结局判定因素
    WIN_CASH = 1000000 # 成为富商的银两
    WIN_RP = 50 # 成为受爱戴的声望
    WIN_LOVE = 50 # 获取美人归的爱情
    LOSE_HP = 0 # 悲惨死在接头的生命值


运行环境：Python3.0或以上版本并配置好环境变量（linux主机为了和自带的python2.x版本不冲突，需将python3.X的可执行文件重名为python3或创建名为python3的软链接链接到python的可知文件）

执行方法：
    1、Linux：直接执行# python3 index.py或#./index.py（需要给主程序文件添加可执行权限）
    2、Window：直接执行# python3 index.py

如何玩：
    说在前面，由于游戏需要交互，凡是出现“>>”的地方都是需要输入的地方，根据人物对话
    游戏讲述猪脚穿越到明朝，被木婉清救起，并获得资助，混迹在明朝的故事。
    一、游戏主菜单
    **********************************
     穿越明朝之明朝那些事儿
     Version 1.0
     作者：张晓宇
    **********************************
    1 新的游戏
    2 旧的记忆
    3 制作人员
    4 退出游戏

    >>

    二、新的游戏
    主菜单输入1，进入新建游戏，交代故事背景，初始化游戏
        >> 1
        请输入玩家的姓名: 张晓宇
        我叫张晓宇,
        我有一个的女朋友，叫韩梅梅
        我们青梅竹马，顺理成章的到了谈婚论嫁的地步
        突然有一天一场无情的车祸将我穿越到了明朝
        当我醒来的时候时候，一个美丽的姑娘看着我
        木婉清: 太好了你终于醒了
        张晓宇: 这里是哪儿？我为什么会在这里？
        木婉清: 这是我的家，我在上山采药的时候发现了你。
        欧系吧！难道我穿越了？？
        从后来的交谈中，我知道她叫木婉清，是个苦命的女子，父母双亡
        木婉清: 这里有现银1000，你拿去做个小生意吧
        张晓宇: 姑娘，我今生必不负你
        木婉清脸上害羞的红了起来
        木婉清: 嗯，...
        于是我出了姑娘的屋子，来到街上
    1、主界面
        主界面显示人物信息
        可以通过去市场低买高卖的形式赚取银子，每天过后生命值会有所减少，可以通过去医馆恢复健康。去丽春院增加声望，去木婉清的家可以增加木婉清的爱慕从而可以获得爱情
        张晓宇: 生命 100/100   声望 0/100   现银 1000   银票 0  背包 0/100   穿越天数 0   爱情 0
        ---------------------------------------------------------------------------------------
                                      北市(2)
                                |                    |
                    钱庄(1)     |                    |      木婉清的家(3)
                                |                    |
            --------------------+                    +---------------------

        西市(4)                           李磊                         东市(5)

            --------------------+                    +---------------------
                                |                    |
                   医馆(6)      |                    |     丽春院(8)
                                |                    |
                                     南市(7)

        >>
    2、东西南北市场，主界面输入2,、4、5、7
        >> 2
        北市商贩: 丝绸之路重开，人们纷纷踏上西去之路，贩卖丝绸
        北市商贩: 客官，您需要点什么，我这里应有皆有，价格公道
        张晓宇: 我看看
        1 大米 2
        2 跌打酒 22
        3 茶叶 138
        4 丝绸 802
        5 人参 666
        0 退出
        >>
    2.1 买
        输入商品编号后，选择买，输入数量完成买操作
        >> 1
        张晓宇: 大米
        北市商贩: 大米？您是买(1)还是卖(2)(返回0) >>1 # 输入操作，买选择1
        北市商贩: 你要多少(返回r)>> 100 # 输入数量
        张晓宇: 100
        北市商贩: 好嘞，客官，这是您的100个大米
        北市商贩: 客官您还看点啥
        1 大米 2
        2 跌打酒 22
        3 茶叶 138
        4 丝绸 802
        5 人参 666
        0 退出
        >> 0 # 退出市场
        北市商贩: 客官，欢迎您下次再来
        一天过去了，张晓宇的现银 -200
    2.2 卖
        输入商品编号后，选择卖，输入数量完成卖操作
        >> 1
        张晓宇: 大米
        西市商贩: 大米？您是买(1)还是卖(2)(返回0) >>2 # 选择卖
        西市商贩: 你要卖多少(返回r)>> 100
        张晓宇: 100
        西市商贩: 好嘞，客官，这是您的1000两银子
        西市商贩: 客官您还看点啥
        1 大米 10
        2 跌打酒 26
        3 茶叶 205
        4 丝绸 960
        5 人参 791
        0 退出
        >> 0 # 退出市场
        西市商贩: 客官，欢迎您下次再来
        一天过去了，张晓宇的现银 +1000

    三、木婉清家
        主界面输入3，进入木婉清家
        >> 3
        木婉清: 张晓宇哥哥，你回来了，人家一个人在家好无聊啊，每人陪我玩
        张晓宇: 木婉清妹妹，我也想你啊，我这不是回来看你了吗
        木婉清: 嗯嗯，这次回来你要好好陪人家玩
        张晓宇: 好的
        于是张晓宇，今天没有出外谋生，赔了木婉清一天
        木婉清对张晓宇爱慕之情+1
        一天过去了，张晓宇的现银 0

    四、去钱庄
        主界面输入1，进入钱庄界面，在钱庄可以开银票和兑换银票，开银票每天可以计算利息，从而挣得银两
    4.1 开银票
        >> 1
        钱庄掌柜: 客官，您是开银票(1)还是兑换银票(2)(退出0)>> 1
        张晓宇: 开银票
        钱庄掌柜: 您要开多少的银票>> 100
        张晓宇: 100
        钱庄掌柜: 客官，这是您100两的银票，您收好了，欢迎您再来
    4.2 兑换银票
        >> 1
        钱庄掌柜: 客官，您是开银票(1)还是兑换银票(2)(退出0)>> 2
        张晓宇: 兑换银票
        钱庄掌柜: 您要兑换多少现银>> 100
        张晓宇: 100
        钱庄掌柜: 客官，这是您100两的银子，您收好了，欢迎您再来

    五、医馆
        主界面输入6进入医馆，可以付银两恢复生命值
        >> 6
        江湖郎中: 老夫人称华佗在世，当年可是御医，专门给后宫的娘娘看妇科的
        妇科？？什么鬼？
        江湖郎中: 这位客官，有何贵干
        废话，找你当然是看病了
        张晓宇: 大夫，我不太舒服
        江湖郎中: 来来来，我给你号号脉
        过了一盏茶的功夫
        江湖郎中: 这位客官，你没什么大碍，只是有些肾亏，我给你开几服药调养调养就好了
        江湖郎中: 一共需要100两
        张晓宇: 啥？这么贵，真是黑心
        不情愿的交了银子走了

    六、丽春院
        主界面输入8进入丽春院，可以通过付费换的“声望”（呵呵呵）
        >> 8
        老鸨: 这位爷，进里面玩玩啊
        张晓宇: 把你们这里最漂亮的姑娘找来，大爷我有的是银子
        老鸨: 这位爷，里面请，春花、秋月、如烟下来招呼这位大爷
        如烟: 大爷~~，里面请，奴家好好服侍您
        张晓宇: 是吗？？哈哈哈
        一场风花雪月之后，张晓宇的声望+4
        一天过去了，张晓宇的现银 -600

    七、存档
        主界面输入s

    八、查看背包
        主界面输入p查看背包商品列表
        >> p
        背包：
            1 大米       100 # 数量

    九、返回主菜单
        主界面输入r返回主菜单，并结束当前游戏
        >> r
        1 新的游戏
        2 旧的记忆
        3 制作人员
        4 退出游戏

    十、读取存档
        主菜单输入2，读取存档并进入主界面
        >> 2

        返回主菜单(r)  存档(s)   查看背包(p)
        张晓宇: 生命 99/100   声望 0/100   现银 971   银票 0  背包 1/100   穿越天数 1   爱情 0
        ---------------------------------------------------------------------------------------
                                      北市(2)
                                |                    |
                    钱庄(1)     |                    |      木婉清的家(3)
                                |                    |
            --------------------+                    +---------------------

        西市(4)                           李磊                         东市(5)

            --------------------+                    +---------------------
                                |                    |
                   医馆(6)      |                    |     丽春院(8)
                                |                    |
                                     南市(7)

    十一、显示制作人员
        主菜单输入3
        >> 3

        --------------------------------------
         版本：1.0
         作者：张晓宇
         Email：61411916@qq.com
         QQ：61411916
         Blog：http://www.cnblogs.com/zhangxiaxuan/
        --------------------------------------

    十二、退出游戏
        主菜单输入4退出游戏
        >> 4
        欢迎下次来玩，再见
